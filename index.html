<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenClaw Content CRM - Competitor Scripts v3</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #0a0a0a;
            color: #ffffff;
            font-family: 'Inter', sans-serif;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #d4af37;
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .header .subtitle {
            color: #888;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }
        
        .stats {
            text-align: center;
            margin-bottom: 20px;
            font-size: 0.9rem;
            color: #d4af37;
            background: #1a1a1a;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #333;
        }
        
        .board {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            padding: 20px 0;
        }
        
        .column {
            min-width: 350px;
            background: #1a1a1a;
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #333;
            min-height: 500px;
        }
        
        .column-header {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 20px;
            color: #d4af37;
            text-align: center;
            padding: 10px;
            background: #2a2a2a;
            border-radius: 6px;
            position: relative;
        }
        
        .column-count {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: #d4af37;
            color: #000;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .card {
            background: #2a2a2a;
            border-radius: 8px;
            padding: 18px;
            margin-bottom: 15px;
            cursor: pointer;
            border: 1px solid #333;
            transition: all 0.2s;
        }
        
        .card:hover {
            transform: translateY(-2px);
            border-color: #d4af37;
            box-shadow: 0 4px 20px rgba(212, 175, 55, 0.1);
        }
        
        .card.expanded {
            border-color: #d4af37;
            background: #333;
            box-shadow: 0 8px 30px rgba(212, 175, 55, 0.2);
        }
        
        .card-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #ffffff;
            font-size: 1.05rem;
        }
        
        .card-competitor {
            color: #d4af37;
            font-size: 0.85rem;
            font-style: italic;
            margin-bottom: 12px;
            font-weight: 500;
        }
        
        .card-hooks {
            margin-bottom: 15px;
        }
        
        .card-hook {
            color: #cccccc;
            font-size: 0.9rem;
            margin-bottom: 8px;
            font-style: italic;
            padding: 8px;
            background: #1a1a1a;
            border-radius: 4px;
            border-left: 3px solid #d4af37;
        }
        
        .card-captions {
            margin-bottom: 15px;
        }
        
        .card-caption {
            background: #d4af37;
            color: #000;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            display: inline-block;
            margin-right: 8px;
            margin-bottom: 5px;
        }
        
        .card-meta {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }
        
        .card-platform {
            background: #555;
            color: #fff;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .card-status {
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: capitalize;
        }
        
        .status-draft { background: #666; color: #fff; }
        .status-ready { background: #f39c12; color: #000; }
        .status-filmed { background: #3498db; color: #fff; }
        .status-posted { background: #27ae60; color: #fff; }
        
        .card-full-script {
            margin-top: 15px;
            font-size: 0.9rem;
            color: #ccc;
            white-space: pre-line;
            background: #1a1a1a;
            padding: 15px;
            border-radius: 6px;
            border-left: 3px solid #d4af37;
            display: none;
            max-height: 500px;
            overflow-y: auto;
            line-height: 1.5;
        }
        
        .card-full-script.expanded {
            display: block;
        }
        
        .card-notes {
            margin-top: 15px;
            font-size: 0.8rem;
            color: #888;
            font-style: italic;
            display: none;
            padding: 10px;
            background: #1a1a1a;
            border-radius: 4px;
        }
        
        .card-notes.expanded {
            display: block;
        }
        
        .card-expand {
            color: #d4af37;
            font-size: 0.8rem;
            margin-top: 15px;
            cursor: pointer;
            text-align: center;
            padding: 8px;
            background: #222;
            border-radius: 4px;
        }
        
        .card-expand:hover {
            background: #333;
        }
        
        .loading {
            text-align: center;
            color: #888;
            padding: 40px;
        }
        
        .error {
            text-align: center;
            color: #e74c3c;
            padding: 40px;
            background: #2a1a1a;
            border-radius: 8px;
            margin: 20px;
        }
        
        @media (max-width: 768px) {
            .board {
                flex-direction: column;
            }
            
            .column {
                min-width: unset;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ü¶û OpenClaw Content CRM</h1>
        <p class="subtitle">Competitor-Based Scripts v3 - 18-Year-Old Norwegian AI CEO</p>
    </div>
    
    <div id="stats" class="stats">
        <div class="loading">Loading scripts...</div>
    </div>
    
    <div class="board">
        <div class="column">
            <div class="column-header">
                üí° Draft Scripts
                <span id="draft-count" class="column-count">0</span>
            </div>
            <div id="draft-column" class="cards-container">
            </div>
        </div>
        
        <div class="column">
            <div class="column-header">
                üìù Ready to Film
                <span id="ready-count" class="column-count">0</span>
            </div>
            <div id="ready-column" class="cards-container">
            </div>
        </div>
        
        <div class="column">
            <div class="column-header">
                üé¨ Filmed
                <span id="filmed-count" class="column-count">0</span>
            </div>
            <div id="filmed-column" class="cards-container">
            </div>
        </div>
        
        <div class="column">
            <div class="column-header">
                üì± Posted
                <span id="posted-count" class="column-count">0</span>
            </div>
            <div id="posted-column" class="cards-container">
            </div>
        </div>
    </div>

    <script>
        let scriptsData = null;
        
        async function loadScripts() {
            try {
                const response = await fetch('scripts.json');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                scriptsData = await response.json();
                updateStats();
                renderScripts();
            } catch (error) {
                console.error('Error loading scripts:', error);
                document.getElementById('stats').innerHTML = `
                    <div class="error">
                        Failed to load scripts. Error: ${error.message}<br>
                        Make sure scripts.json is available and properly formatted.
                    </div>
                `;
            }
        }
        
        function updateStats() {
            if (!scriptsData) return;
            
            const stats = scriptsData.stats;
            const version = scriptsData.version;
            const updated = scriptsData.updated;
            
            document.getElementById('stats').innerHTML = `
                üî• ${stats.total_scripts} Scripts ‚Ä¢ ${stats.type} ‚Ä¢ ${version} ‚Ä¢ Updated: ${updated}<br>
                üìä ${stats.source} ‚Ä¢ Competitor Patterns ‚Ä¢ Ready to Film
            `;
        }
        
        function renderScripts() {
            if (!scriptsData) return;
            
            // Clear all columns
            ['draft', 'ready', 'filmed', 'posted'].forEach(status => {
                document.getElementById(`${status}-column`).innerHTML = '';
            });
            
            // Group scripts by status
            const grouped = {
                draft: [],
                ready: [],
                filmed: [],
                posted: []
            };
            
            scriptsData.scripts.forEach(script => {
                const status = script.status || 'draft';
                if (grouped[status]) {
                    grouped[status].push(script);
                }
            });
            
            // Render each group
            Object.keys(grouped).forEach(status => {
                const column = document.getElementById(`${status}-column`);
                const count = grouped[status].length;
                
                grouped[status].forEach(script => {
                    column.appendChild(createCard(script));
                });
                
                // Update count
                document.getElementById(`${status}-count`).textContent = count;
            });
        }
        
        function createCard(script) {
            const card = document.createElement('div');
            card.className = 'card';
            card.dataset.id = script.id;
            
            const hooksHtml = script.hooks.map((hook, i) => 
                `<div class="card-hook">${i+1}. ${hook}</div>`
            ).join('');
            
            const captionsHtml = script.screen_captions.map(caption => 
                `<span class="card-caption">${caption}</span>`
            ).join('');
            
            card.innerHTML = `
                <div class="card-title">${script.title}</div>
                <div class="card-competitor">Based on: ${script.competitor_style}</div>
                
                <div class="card-hooks">
                    <strong>Hook Options:</strong><br>
                    ${hooksHtml}
                </div>
                
                <div class="card-captions">
                    <strong>Screen Captions:</strong><br>
                    ${captionsHtml}
                </div>
                
                <div class="card-meta">
                    <span class="card-platform">${script.platform}</span>
                    <span class="card-status status-${script.status}">${script.status}</span>
                </div>
                
                <div class="card-full-script">
                    <strong>Full Script:</strong><br><br>
                    ${script.full_script}
                </div>
                
                <div class="card-notes">
                    <strong>Notes:</strong> ${script.notes}
                </div>
                
                <div class="card-expand">Click to view full script & notes ‚Üì</div>
            `;
            
            // Add click handler for expansion
            card.addEventListener('click', () => toggleCard(card));
            
            return card;
        }
        
        function toggleCard(cardElement) {
            const isExpanded = cardElement.classList.contains('expanded');
            
            // Close all other cards
            document.querySelectorAll('.card').forEach(card => {
                card.classList.remove('expanded');
                card.querySelector('.card-full-script').classList.remove('expanded');
                card.querySelector('.card-notes').classList.remove('expanded');
                card.querySelector('.card-expand').textContent = 'Click to view full script & notes ‚Üì';
            });
            
            if (!isExpanded) {
                cardElement.classList.add('expanded');
                cardElement.querySelector('.card-full-script').classList.add('expanded');
                cardElement.querySelector('.card-notes').classList.add('expanded');
                cardElement.querySelector('.card-expand').textContent = 'Click to collapse ‚Üë';
            }
        }
        
        // Load scripts when page loads
        document.addEventListener('DOMContentLoaded', loadScripts);
    </script>
</body>
</html>